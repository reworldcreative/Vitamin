(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var n,a,o="https://vitamin-bd.onrender.com";if($(document).ready((function(){var e,t;$(".burger-button").length>0&&$(".burger-button").click((function(e){$(".burger-menu").toggleClass("active"),u()})),$(".burger-menu .close-button").length>0&&$(".burger-menu .close-button").click((function(e){$(".burger-menu").toggleClass("active"),u()})),$(".profileOrders .down-arrow").length>0&&$(".profileOrders .down-arrow").click((function(e){var t=e.target.parentElement.nextElementSibling;this.classList.toggle("active"),"block"===window.getComputedStyle(t).display?t.style.display="none":t.style.display="block"})),$(".cart__img").length>0&&$(".cart__img").click((function(e){$(".basket").toggleClass("active"),u()})),$(".basket").length>0&&$(".basket .close-cart").click((function(e){$(".basket").toggleClass("active"),u()})),$(".basket__order-button")&&$(".basket__order-button").click((function(e){const t=document.querySelectorAll(".basket .basket__item"),n=[];t.forEach((e=>{const t={image:e.querySelector(".basket__image").getAttribute("src"),name:e.querySelector(".basket__item_name").textContent,number:e.querySelector(".productCard__number").textContent,priceNumber:e.querySelector(".basket__item_priceNumber").textContent,priceSale:e.querySelector(".basket__item_priceSale").textContent};n.push(t)})),localStorage.setItem("basketItemsData",JSON.stringify(n)),window.location.href="Checkout.html"}));const n=localStorage.getItem("productObject");if(null!==n&&n.length>0&&(e=localStorage.getItem("productObject"),t=JSON.parse(e),$(".productCard").length>0&&($(".productCard__image")[0].src=t.productImage,$(".productCard__class")[0].textContent=t.productClass,$(".productCard__name")[0].textContent=t.productName,$(".productCard__price_number")[0].textContent=t.productPrice,$(".packProduckItem__priceDiscount")[0].textContent=t.productPriceDiscount,t.productPriceDiscount.length>0))){const e=parseInt($(".productCard__price_number")[0].textContent.replace("$",""));var a=(e-parseInt($(".packProduckItem__priceDiscount")[0].textContent.replace("$","")))/e*100;$(".productCard__price_number")[0].classList.add("discount"),$(".packProduckItem__priceDiscount")[0].style.display="block",$(".packProduckItem__badge")[0].style.display="block",$(".packProduckItem__badge")[0].textContent="-"+a.toFixed(1)+"%"}function r(){$(".basket").length>0&&$(".basket__item_container .delete").click((function(e){this.closest(".basket__item").remove(),l(),s()}))}$(".addButton").length>0&&$(".addButton").click((function(e){var t=parseFloat($(this).closest(".column__wrap").find(".productCard__price_number").text().replace("$",""))*parseInt($(this).closest(".column__wrap").find(".productCard__number").text()).toFixed(2),n=$(this).closest(".column__wrap").find(".productCard__name").text(),a=(n=$(this).closest(".column__wrap").find(".productCard__name").text(),$(".basket__list .basket__item").filter((function(){return $(this).find(".basket__item_name").text()===n}))),o=$(this).closest(".column__wrap").find(".packProduckItem__priceDiscount").text().replace("$",""),i=parseFloat(o);if(o=isNaN(i)?"":"$"+o,a.length>0){var c=a.find(".productCard__number"),u=parseInt(c.text());c.text(u+1)}else{var d=$("<li>").addClass("basket__item").html(`\n    <div class="basket__item_container">\n        <div class="basket__imageWrap purple">\n            <img class="basket__image" src="${$(this).closest(".row").find(".productCard__image")[0].src}" alt="vitamin" width="85px" height="92px">\n        </div>\n\n        <div style="width: 100%;">\n            <div class="basket__item_top">\n                <h2 class="basket__item_name">${$(this).closest(".column__wrap").find(".productCard__name").text()}</h2>\n                <button class="close-button delete" aria-label="delete element">\n                    <img src="img/icons/Close.svg" alt="Close icon" width="14" height="14" aria-hidden="true">\n                </button>\n            </div>\n\n            <div class="basket__item_amount">\n                <div class="productCard__counter">\n                    <button class="productCard__counter_button number-counter minus-button">-</button>\n                    <p class="productCard__number">${$(this).closest(".column__wrap").find(".productCard__number").text()}</p>\n                    <button class="productCard__counter_button number-counter plus-button">+</button>\n                </div>\n\n                <div class="basket__item_price">\n                <div class="visibility-hidden firstPrice">${$(this).closest(".column__wrap").find(".productCard__price_number").text()}\n                  </div>\n                  <div class="visibility-hidden firstPriceDiscount">${$(this).closest(".column__wrap").find(".packProduckItem__priceDiscount").text()}\n                    </div>\n                    <div class="basket__item_priceNumber">\n                    ${"$"+t}</div>\n                    <div class="basket__item_priceSale">${o}</div>\n                </div>\n            </div>\n\n            <div class="basket__item_ship productCard__autoship">\n                <input type="checkbox" class="basket__checkbox" name="Autoship" id="basket__Autoship3" value="Autoship">\n                <label for="basket__Autoship3"></label>\n                <p class="productCard__autoship_text">\n                    <span class="productCard__autoship_textFirst">Autoship every</span>\n                    <select class="days-ayto-delivery" name="days-ayto-delivery">\n                        <option value="7">7</option>\n                        <option value="14">14</option>\n                        <option value="30" selected="">30</option>\n                    </select>\n                    days\n                </p>\n            </div>\n        </div>\n    </div>\n`);$(".productCard__autoship_switch input")[0].checked&&d.find(".basket__checkbox").prop("checked",!0),d.find(".days-ayto-delivery").val($(this).closest(".column__wrap").find(".days-ayto-delivery").val()),$(this).closest(".column__wrap").find(".packProduckItem__priceDiscount").text().length>0&&(d.find(".basket__item_priceNumber")[0].classList.add("discount"),d.find(".basket__item_priceSale")[0].style.display="block"),$(".basket__list").append(d),s(),r(),l()}}));var i=localStorage.getItem("basketList");function s(){$(".basket__list").length>0&&($(".basket__list li").length<=0?($(".basket__empty")[0].style.display="flex",$(".basket__bottom")[0].style.display="none",$(".header .cart__img_alert")[0].style.display="none"):($(".basket__empty")[0].style.display="none",$(".basket__bottom")[0].style.display="grid",$(".header .cart__img_alert")[0].style.display="block",p()))}function u(){$(".burger-menu").hasClass("active")||$(".basket").hasClass("active")?$("body").css("overflow","hidden"):$("body").css("overflow","auto")}if(null!==i&&i.length>0&&$(".basket .basket__list").length>0&&($(".basket .basket__list")[0].innerHTML=i),$(".Checkout__accordion .Checkout__money_name").length>0&&$(".Checkout__accordion .Checkout__money_name").click((function(e){this.classList.toggle("active");var t=$(".Checkout__list")[0],n=window.getComputedStyle(t),a=$(".Checkout__money")[0],o=window.getComputedStyle(a);"grid"==n.display?t.style.display="none":t.style.display="grid","grid"==o.display?a.style.display="none":a.style.display="grid"})),$(".Checkout").length>0){const e=localStorage.getItem("basketItemsData");var d=0;e&&JSON.parse(e).forEach((e=>{const t=e.image,n=e.name,a=e.number,o=e.priceNumber;var r=e.priceSale;r=parseFloat(e.priceSale),r=isNaN(r)?"":r;var i=$("<li>").addClass("Checkout__product").html(`\n                        <div class="Checkout__product_imageWrap pink">\n                            <img src="${t}" alt="vitamin" width="49px" height="55px">\n                        </div>\n                        <p class="Checkout__product_name"><span class="Checkout__product_amount">${a}</span> x ${n}</p>\n\n                        <div class="Checkout__price">\n                            <p class="Checkout__price_number">${o}</p>\n                            <p class="Checkout__price_number sale">${r}</p>\n                        </div>\n                  \n        `);r.length>0?(i.find(".Checkout__price_number")[0].classList.add("discount"),d+=parseInt(r.replace("$",""))):d+=parseInt(o.replace("$","")),$(".Checkout__list").append(i)})),$(".subtotalCountMoney")[0].textContent=d.toFixed(2);const t=parseInt($(".discountCountMoney")[0].textContent.replace("$","")),n=parseInt($(".shipingCountMoney")[0].textContent.replace("$","")),a=d+t+n;$(".totalCountMoney")[0].textContent=a.toFixed(2)}r(),s(),p(),$(".shop").length>0&&$.ajax({url:o+"/api/products?populate=image&populate=class&populate=class.vitamins_color",method:"GET",data:{},dataType:"json",success:function(e){e.data.forEach((function(e){c(e)}))},error:function(e,t,n){console.log(n)}})})),$(".product-sort").length>0&&$(".product-sort").each((function(){$(this).click((function(e){s(e.target.textContent,"/api/products?filters[class][name][$eqi]=")}))})),$(".product-sale").length>0&&$(".product-sale").each((function(){$(this).click((function(e){s(e.target.textContent,"/api/products?filters[discountPrice][$notNull]=''")}))})),$(".createAccount").length>0&&$(".createAccount").click((function(e){e.preventDefault();var t={username:$("#SignUpFirstName").val(),LastName:$("#SignUpLastName").val(),email:$("#SignUpEmail").val(),password:$("#SignUpPassword").val()};$.ajax({url:o+"/api/auth/local/register",method:"POST",data:t,dataType:"json",success:function(e){localStorage.setItem("jwt",e.jwt),localStorage.setItem("user",JSON.stringify(t)),window.location.replace("profileOverview.html")},error:function(e,t,n){console.log(n)}})})),$(".profileOverview__form").length>0){var r=localStorage.getItem("jwt"),i=JSON.parse(localStorage.getItem("user"));i&&($("#personalName")[0].value=i.username,$("#personalLastName")[0].value=i.LastName,$("#personaEmail")[0].value=i.email,$("#personalAddressLine1")[0].value=i.AddressLine1,$("#personalAddressLine2")[0].value=i.AddressLine2,$("#personaCity")[0].value=i.City,$("#personaState")[0].value=i.state,$("#personaZIP")[0].value=i.ZIP,$("#personaPhone")[0].value=i.PhoneNumber),$("#profileOverview-SaveButton").click((function(e){if(e.preventDefault(),r){var t={username:$("#personalName").val(),email:$("#personaEmail").val(),LastName:$("#personalLastName").val(),AddressLine1:$("#personalAddressLine1").val(),AddressLine2:$("#personalAddressLine2").val(),City:$("#personaCity").val(),state:$("#personaState").val(),ZIP:$("#personaZIP").val(),PhoneNumber:$("#personaPhone").val()};$.ajax({url:o+"/api/users/"+i.id,method:"PUT",data:t,dataType:"json",headers:{Authorization:`Bearer ${r}`},success:function(e){localStorage.setItem("user",JSON.stringify(e))},error:function(e,t,n){console.log(n)}})}}))}function s(e,t){e=e.includes("&")?e.replace("&","%26"):e,$.ajax({url:o+t+e+"&populate=image&populate=class&populate=class.vitamins_color",method:"GET",data:{},dataType:"json",success:function(e){$(".shop__list").empty(),e.data.forEach((function(e){c(e)}));var t=$("<button>").addClass("View-more-button").html("View more");$(".shop__list").append(t)},error:function(e,t,n){console.log(n)}})}function c(e){var t,n;t="webp"===document.documentElement.className?o+e.attributes.image.data[0].attributes.url:o+e.attributes.image.data[1].attributes.url,n=null!==e.attributes.discountPrice?e.attributes.discountPrice:"";var a=e.attributes.class.data.attributes.vitamins_color.data.attributes.name,r=$("<article>").addClass("packProduckItem").html(`\n<div class="packProduckItem__wrap">\n    <div class="packProduckItem__badge ">\n        -45%\n    </div>\n    <div class="packProduckItem__image">\n        <img src="${t}" alt="vitamin's jar" width="186px" height="209px">\n    </div>\n\n    <div class="packProduckItem__container">\n        <p class="packProduckItem__class" style="color: ${a};">${e.attributes.class.data.attributes.name}</p>\n        <p class="packProduckItem__name">${e.attributes.name}</p>\n        <div class="packProduckItem__priceContainer">\n            <p class="packProduckItem__price">${"$"+e.attributes.price}</p>\n            <p class="packProduckItem__price packProduckItem__priceDiscount">${n}</p>\n        </div>\n    </div>\n</div>\n          \n`);null!==e.attributes.discountPrice&&r.find(".packProduckItem__price")[0].classList.add("discount"),$(".shop .shop__list").prepend(r)}function l(){localStorage.setItem("basketList",$(".basket__list")[0].innerHTML)}function u(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}function d(){$(window).width()<1e3&&($(".footer__wrap").length>0&&$(".footer__wrap")[0].append($(".footer__copyright")[0]),$(".Checkout__column_first").length>0&&$(".Checkout__column_first")[0].append($(".Checkout__button")[0])),$(window).width()>1e3&&($(".footer__logo").length>0&&$(".footer__logo")[0].append($(".footer__copyright")[0]),$(".Checkout__column_second").length>0&&$(".Checkout__column_second")[0].append($(".Checkout__button")[0])),$(window).width()<500&&($(".burger-menu__header").length>0&&$(".burger-menu__header")[0].append($(".profile__img")[0]),$(".productCard__autoship_text").length>0&&($(".productCard__autoship_textFirst")[0].textContent="Deliver every"),$(".profile__navbar .profile__navigation").length>0&&$(".burger-menu .burger-menu__navigation").html($(".profile__navbar .profile__navigation").html()),$(".shop .shop__navigation").length>0&&($(".burger-menu .burger-menu__navigation").html($(".shop .shop__navigation").html()),$(".burger-menu .burger-menu__navigation").prepend('<li><a class="shop__link" href="#">All categories</a></li>'),0==$(".burger-menu .burger-menu__ShopBottom").length&&$(".burger-menu .burger-menu__navigation").after('<div class="burger-menu__ShopBottom">\n        <p class="burger-menu__ShopBottom_title">Don’t know what vitamins your body needs?</p>\n        <p class="burger-menu__ShopBottom_text">Answer a few simple questions and automatically\n            get a personalazed list of vitamins in minutes</p>\n        <a href="quiz.html" class="quiz-button @@class">\n            Take the quiz\n        </a>\n    </div>'))),$(window).width()>500&&($(".header__buttons").length>0&&$(".header__buttons")[0].prepend($(".profile__img")[0]),$(".productCard .productCard__autoship_text").length>0&&($(".productCard__autoship_textFirst")[0].textContent="Autoship this item every"),$(".burger-menu .burger-menu__ShopBottom").length>0&&$(".burger-menu .burger-menu__ShopBottom").remove()),$(window).width()<1300&&$(".shop__title")&&$(".shop__title").click((function(e){var t=$(".shop__navigation")[0];this.classList.toggle("active"),"grid"===window.getComputedStyle(t).display?t.style.display="none":t.style.display="grid"})),$(window).width()<800&&$(".profilePayment__form .back-card .inputCard").length>0&&$(".profilePayment__form .front-card .card-second")[0].append($(".profilePayment__form .back-card .inputCard")[0]),$(window).width()>800&&$(".profilePayment__form .card-second .inputCard-cvv").length>0&&$(".profilePayment__form .back-card")[0].append($(".profilePayment__form .card-second .inputCard-cvv")[0])}function p(){let e=0;$(".basket")&&($(".basket__item_priceNumber").each((function(){const t=parseFloat($(this).text().replace("$",""));!isNaN(parseFloat($(this).next(".basket__item_priceSale")[0].textContent.replace("$","")))&&$(this).next(".basket__item_priceSale")[0].textContent.length>0?e+=parseFloat($(this).next(".basket__item_priceSale")[0].textContent.replace("$","")):e+=t})),$(".basket__totalPrice").text("$"+e.toFixed(2)))}function _(){n.checked?a.style.display="flex":a.style.display="none"}window.location.pathname.includes("SignIn.html")&&((r=localStorage.getItem("jwt"))?window.location.replace("profileOverview.html"):$(".SignInBtn").length>0&&$(".SignInBtn").click((function(e){e.preventDefault();var t={identifier:$("#SignInEmail").val(),password:$("#SignInPassword").val()};$.ajax({url:o+"/api/auth/local",method:"POST",data:t,dataType:"json",success:function(e){localStorage.setItem("jwt",e.jwt),localStorage.setItem("user",JSON.stringify(e.user)),window.location.replace("profileOverview.html")},error:function(e,t,n){console.log(n)}})}))),$(".SignOut")[0]&&$(".SignOut").click((function(e){localStorage.removeItem("jwt"),localStorage.removeItem("user"),window.location.replace("SignIn.html")})),$("#Order")[0]&&$("#Order").click((function(e){var t=[];$(".Checkout__product").each((function(){var e=parseInt($(this).find(".Checkout__product_amount").text()),n=parseFloat($(this).find(".Checkout__price_number.discount").text().replace("$","")),a=parseFloat($(this).find(".Checkout__price_number.sale").text().replace("$","")),o={name:$(this).find(".Checkout__product_name").text().replace(/^\d+\s*x\s*/,"").trim(),amount:e,price:{productPrice:n,salePrice:a}};t.push(o)}));for(var n={data:{address:{Name:$("#personalName").val(),LastName:$("#personalLastName").val(),Email:$("#personaEmail").val(),AddressLine1:$("#personalAddressLine1").val(),AddressLine2:$("#personalAddressLine2").val(),City:$("#personaCity").val(),State:$("#personaState").val(),ZIP:$("#personaZIP").val(),Phone:$("#personaPhone").val()},products:t}},a=$(".Checkout__form .profileOverview__input"),r=$(".Checkout__form .input__error"),i=!0,s=0;s<r.length;s++)r[s].textContent="",a[s].classList.remove("error");for(s=0;s<a.length;s++)""===a[s].value.trim()?(r[s].textContent="Required",a[s].classList.add("error"),i=!1):new RegExp(a[s].pattern).test(a[s].value)||(r[s].textContent="enter valid data",a[s].classList.add("error"),i=!1);i&&$.ajax({url:o+"/api/orders",method:"POST",data:JSON.stringify(n),dataType:"json",contentType:"application/json",success:function(e){localStorage.removeItem("basketItemsData"),localStorage.removeItem("basketList"),localStorage.removeItem("productObject"),window.location.replace("Checkout_fin.html")},error:function(e,t,n){console.log(n)}})})),$(document).on("click",".packProduckItem",(function(){$(".packProduckItem").length>0&&$(".packProduckItem").click((function(e){var t={productImage:this.querySelectorAll(".packProduckItem__image img")[0].src,productName:this.querySelectorAll(".packProduckItem__name")[0].textContent,productClass:this.querySelectorAll(".packProduckItem__class")[0].textContent,productPrice:this.querySelectorAll(".packProduckItem__price")[0].textContent,productPriceDiscount:this.querySelectorAll(".packProduckItem__priceDiscount")[0].textContent},n=JSON.stringify(t);localStorage.setItem("productObject",n),window.location.href="productCard.html"}))})),$(document).on("click",".productCard__counter_button",(function(){function e(e){if($(".basket")){var t=e.closest(".basket__item_amount").find(".basket__item_price")[0],n=$(t).find(".firstPrice")[0],a=$(t).find(".firstPriceDiscount")[0],o=e.closest(".productCard__counter").find(".productCard__number")[0];if(n&&o){var r=parseFloat($(t).find(".firstPrice")[0].textContent.replace("$",""))*parseInt(e.closest(".productCard__counter").find(".productCard__number")[0].textContent);$(t).find(".basket__item_priceNumber")[0].textContent="$"+r.toFixed(2)}a&&o&&(r=parseFloat($(t).find(".firstPriceDiscount")[0].textContent.replace("$",""))*parseInt(e.closest(".productCard__counter").find(".productCard__number")[0].textContent),$(t).find(".basket__item_priceSale")[0].textContent="$"+r.toFixed(2))}}$(".number-counter").length>0&&($(".number-counter.minus-button").click((function(){var e=$(this).parent().find(".productCard__number"),t=parseInt(e[0].textContent)-1;return t=t<1?1:t,e[0].textContent=t,!1})),$(".number-counter.plus-button").click((function(){var e=$(this).parent().find(".productCard__number");return e[0].textContent=parseInt(e[0].textContent)+1,!1}))),$(".productCard__counter").length>0&&($(".number-counter.minus-button").click((function(){e($(this)),p()})),$(".number-counter.plus-button").click((function(){e($(this)),p()})))})),window.addEventListener("beforeunload",(function(e){l()})),window.addEventListener("DOMContentLoaded",(function(){u("https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"),u("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap");var e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js";var t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyloadxt/1.1.0/jquery.lazyloadxt.min.js",e.onload=function(){$(".ChooseProducts__swiper").length>0&&new Swiper(".ChooseProducts__swiper",{spaceBetween:33,breakpoints:{300:{slidesPerView:1.1,spaceBetween:10},600:{slidesPerView:1.3,spaceBetween:20},900:{slidesPerView:2}}}),$(".reviews__swiper").length>0&&new Swiper(".reviews__swiper",{spaceBetween:32,breakpoints:{300:{slidesPerView:1,spaceBetween:10},600:{slidesPerView:1.5,spaceBetween:10},1e3:{slidesPerView:2.5,spaceBetween:20},1300:{slidesPerView:3}}}),$(".shopHero__slider").length>0&&new Swiper(".shopHero__slider",{slidesPerView:1.2,spaceBetween:50,centeredSlides:!0,breakpoints:{300:{slidesPerView:1,spaceBetween:10},500:{slidesPerView:1.3,spaceBetween:15},1e3:{slidesPerView:1.2,spaceBetween:20},1500:{slidesPerView:1.28,spaceBetween:50}},navigation:{nextEl:".shopHero-Banner-button-next",prevEl:".shopHero-Banner-button-prev"},pagination:{el:".shopHero-Banner-pagination",clickable:!0}})},document.body.appendChild(e),document.body.appendChild(t)})),d(),$(window).resize((function(){d()})),$("#SignUp__radioWholesale").length>0&&(n=$("#SignUp__radioWholesale")[0]),$(".SignUp__Wholesale").length>0&&(a=$(".SignUp__Wholesale")[0]),$("#SignUp__radioWholesale").length>0&&_(),$(".SignUp__radio").length>0&&$(".SignUp__radio").each(((e,t)=>{$(t).on("change",_)}));var m=["What’s your first name?","Do you smoke?","What is your eating habits?","How frequently do you consume alcoholic beverages?","How frequently do you have cold/flu symptoms?","Describe your stress level","Have you ever been diagnosted with high blood glucose level?","Tell us what you want to focus on","What’s your email address?"],h=0;function g(){$(".quiz #quiz__currentStep")[0].textContent=h+1,$(".quiz #quiz__totalStep")[0].textContent=m.length,$(".quiz #quiz__question")[0].textContent=m[h],$(".quiz .quiz__questionContainer").css("display","none"),$(".quiz #quizQuestion"+(h+1)).css("display","grid")}$(".quiz .quiz__button").length>0&&$(".quiz .quiz__button").each(((e,t)=>{$(t).on("click",(()=>{++h>m.length-1&&(window.location.href="404.html"),g()}))})),$(".quiz .quiz__backLink").length>0&&$(".quiz .quiz__backLink").on("click",(()=>{--h<0&&(window.location.href="index.html"),g()})),$(".quiz__radioLable").length>0&&$(".quiz__radioLable").each(((e,t)=>{$(t).on("click",(()=>{h++,g()}))}))})();